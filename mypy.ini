[mypy]
python_version = 3.12
strict = True
warn_unused_ignores = True
namespace_packages = True
explicit_package_bases = True

# Make mypy able to resolve first-party imports (no need for all to have .py files)
mypy_path = src/email_api/src:src/gmail_impl/src:src/mail_client_adapter/src:src/mail_client_service:src/slack_api/src:src/slack_impl/src:src/slack_service/src:src/slack_adapter/src

# Only *check* slack_adapter code and the shared tests
files = src/slack_adapter/src,tests

# ---------------------------------------------------------------------------
# External / untyped-ish packages we don't want noisy missing-import errors for
# ---------------------------------------------------------------------------

[mypy-email_api.*]
ignore_missing_imports = True

[mypy-gmail_impl.*]
ignore_missing_imports = True

[mypy-mail_client_adapter.*]
ignore_missing_imports = True

[mypy-mail_client_service.*]
ignore_missing_imports = True

# HW1 client lib that may be generated / partially typed
[mypy-mail_client_service_client.*]
ignore_missing_imports = True

# ---------------------------------------------------------------------------
# Tests â€“ allow untyped defs and calls, and ignore imports that only exist in tests
# ---------------------------------------------------------------------------

[mypy-tests.*]
disable_error_code = no-untyped-def,no-untyped-call
ignore_missing_imports = True

[mypy-tests.integration.*]
ignore_errors = True
